{
  "consumer": {
    "name": "AttendeeService"
  },
  "provider": {
    "name": "PaymentService"
  },
  "interactions": [
    {
      "description": "A request to get their transactions",
      "providerState": "Attendee 1 exists with one dues transaction and a matching pending payment",
      "request": {
        "method": "GET",
        "path": "/api/rest/v1/transactions",
        "query": "debitor_id=1"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "Payload": [
            {
              "debitor_id": 1,
              "transaction_identifier": "EF2022-000001-1221-195810-1234",
              "transaction_type": "due",
              "method": "internal",
              "amount": {
                "currency": "EUR",
                "gross_cent": 19700,
                "vat_rate": 19
              },
              "comment": "dues adjustment due to change in status or selected packages",
              "status": "valid",
              "effective_date": "2022-12-21",
              "due_date": "2023-01-04",
              "creation_date": "2022-12-21T19:58:10Z",
              "status_history": null
            },
            {
              "debitor_id": 1,
              "transaction_identifier": "EF2022-000001-1227-201231-2345",
              "transaction_type": "payment",
              "method": "credit",
              "amount": {
                "currency": "EUR",
                "gross_cent": 19700,
                "vat_rate": 19
              },
              "comment": "credit card payment received via adapter",
              "status": "pending",
              "effective_date": "2022-12-27",
              "due_date": "2022-12-27",
              "creation_date": "2022-12-27T20:12:31Z",
              "status_history": [
                {
                  "status": "tentative",
                  "comment": "credit card payment link created",
                  "changed_by": "api",
                  "change_date": "2022-12-27T22:00:00Z"
                }
              ]
            }
          ]
        }
      }
    },
    {
      "description": "A request to create an additional dues transaction",
      "providerState": "Attendee 1 exists in any state",
      "request": {
        "method": "POST",
        "path": "/api/rest/v1/transactions",
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "debitor_id": 1,
          "transaction_identifier": "EF2022-000001-1222-195816-8888",
          "transaction_type": "due",
          "method": "internal",
          "amount": {
            "currency": "EUR",
            "gross_cent": 500,
            "vat_rate": 7
          },
          "comment": "dues adjustment due to change in status or selected packages",
          "status": "valid",
          "effective_date": "2022-12-22",
          "due_date": "2023-01-05",
          "creation_date": "2022-12-21T19:58:10Z",
          "status_history": null
        }
      },
      "response": {
        "status": 201,
        "headers": {
          "Location": "EF2022-000001-1222-195816-8888"
        },
        "body": {
          "debitor_id": 1,
          "transaction_identifier": "EF2022-000001-1222-195816-8888",
          "transaction_type": "due",
          "method": "internal",
          "amount": {
            "currency": "EUR",
            "gross_cent": 500,
            "vat_rate": 7
          },
          "comment": "dues adjustment due to change in status or selected packages",
          "status": "valid",
          "effective_date": "2022-12-22",
          "due_date": "2023-01-05",
          "creation_date": "2022-12-21T19:58:10Z",
          "status_history": null
        }
      }
    }
  ],
  "metadata": {
    "pactSpecification": {
      "version": "2.0.0"
    }
  }
}